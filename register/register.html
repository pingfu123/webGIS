
<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            input{width:200px;
                  height:24px;
            }
        </style>
        <script src="js/jquery-3.3.1.js">

        </script>
        <script>
            $(document).ready(function () {
                //当 DOM（文档对象模型） 已经加载，并且页面（包括图像）已经完全呈现时，会发生 ready 事件。
                //     $("#submit").on("click", function () {
                //on() 方法在被选元素及子元素上添加一个或多个事件处理程序。向 <id="submit"> 元素添加 click 事件处理程序
                //      onRegister();
                //    });
                // });
                $("#submit").click(function () {
                    onRegister();
                });
            });
            function onRegister() {
                $.ajax({
                    //ajax方法通过 HTTP 请求加载远程数据。
                    type: "POST",
                    //默认值: "GET")。请求方式 ("POST" 或 "GET")， 默认为 "GET"。注意：其它 HTTP 请求方法，如 PUT 和 DELETE 也可以使用，但仅部分浏览器支持。
                    url: "php/register.php",
                    //类型：String 默认值: 当前页地址。发送请求的地址。
                    data: {
                        username: $("#username").val(),
                        password: $("#password").val(),
                        realname: $("#realname").val(),
                        email: $("#email").val(),
                        mobile: $("#mobile").val()
                    },
                    //发送到服务器的数据。将自动转换为请求字符串格式。GET 请求中将附加在 URL 后。

                    success: function (data) {
                        console.log(data);
                        alert('success');
                    },
                    /*success类型：Function,请求成功后的回调函数。
                     * 参数：由服务器返回，并根据 dataType 参数进行处理后的数据；描述状态的字符串。*/
                    error: function (data) {
                        console.log("asdfasf");
                        alert('failed');
                    }
                    /*类型：Function默认值: 自动判断 (xml 或 html)。请求失败时调用此函数。
                     有以下三个参数：XMLHttpRequest 对象、错误信息、（可选）捕获的异常对象。
                     如果发生了错误，错误信息（第二个参数）除了得到 null 之外，
                     还可能是 "timeout", "error", "notmodified" 和 "parsererror"。这是一个 Ajax 事件。*/
                });
            }
        </script>     

    </head>
    <body>
        <div class="row justify-content-center" id="container" style="width: 400px" align="center">
            <div id="header" style="background-color: aquamarine">
                  <h2 align="center">注册</h2>
                 </div>
            
            <p align="center">用户名:
                <input id="username" type="text" name="user" placeholder="账号首字符为字母">
            </p>
            <p align="center">姓名:
                <input id="realname" type="password" name="rname" placeholder="请输入姓名">
            </p>
            <p align="center">密码:
                <input id="password" type="password" name="psw" placeholder="请输入密码">
            </p>
            <p align="center">确认密码:
                <input id="password1" type="password" name="psw1" placeholder="再次输入密码">
            </p>
            <p align="center">邮箱:
                <input id="email" type="password" name="ema" placeholder="注册邮箱">
            </p>
            <p align="center">电话:
                <input id="mobile" type="password" name="mob" placeholder="输入您的手机号码">
            </p>

            <p colspan="2" align="center">
                <button  id="submit">提交</button>
                <a href="login.html"><input type="button" class="btn btn-info" name="regist" value="登录"></a>
            </p>
            
        </div>

    </body>
</html>